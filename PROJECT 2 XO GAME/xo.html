<!DOCTYPE html>
<html lang="en">
<head>
    <title>XO GAME</title>
    <style>
        body{background-image: url("image/background.jpg");}

        .square{width: 130px; 
               height:130px;
               border: 3px solid #000000;
               background-color: rgb(245, 245, 245);
               text-align: center;
               font-size: 50px; 
               font-family: cursive;
               border-radius: 10px;
                }
        
        table{margin: auto;}

        h1, h2{color: rgb(3, 3, 151);
           font-family:cursive;
           font-size:280%; 
           text-align: center;}

        .button{border: 5px solid rgb(0, 0, 0);
                margin: auto;
                display: block;
                border-radius: 50px;
                font-family: cursive;
                background-color: rgb(255, 30, 30);
                color: rgb(247, 247, 247);
                font-size: 20px;}

        p{text-align: center;
          font-family:cursive;
          font-size: 40px;
          color: rgb(234, 25, 25);}
        
    </style>
</head>
<body>
    <h1> Play The Tic-tac-toe Game! </h1>
    <h2>Let's Start</h2>
    <table id="myboard">
            <tr>
                <td><button onclick="click_to_game(1)" id="cell1" class="square"></button></td>
                <td><button onclick="click_to_game(2)" id="cell2" class="square"></button></td>
                <td><button onclick="click_to_game(3)" id="cell3" class="square"></button></td>
            </tr>
            <tr>
                <td><button onclick="click_to_game(4)" id="cell4" class="square"></button></td>
                <td><button onclick="click_to_game(5)" id="cell5" class="square"></button></td>
                <td><button onclick="click_to_game(6)" id="cell6" class="square"></button></td>
            </tr>
            <tr>
              <td><button onclick="click_to_game(7)" id="cell7" class="square"></button></td>
              <td><button onclick="click_to_game(8)" id="cell8" class="square"></button></td>
              <td><button onclick="click_to_game(9)" id="cell9" class="square"></button></td>
            </tr>
    </table><br>
    <button onclick="restartGame()" class="button">RESTART</button>
    <p id="the-winner"></p>
    <script>
        const board = [" ", " ", " ", 
                       " ", " ", " ", 
                       " ", " ", " "]
       
        const game_data = {player: "X",
                           computer: "O",
                           game_over: false,
                           playerWon: "PLAYER WON THE GAME!!...WELL DONE!",
                           computerWon: "COMPUTER WON THE GAME...Too bad",
                           teko:"TEKO"};

        function computerTurn(){
            do {random = Math.floor(Math.random()*9) + 1}  // between (1 to 9)
            while(board[random - 1] != " ")

                if (board[random - 1] == " " ){
                    document.getElementById(`cell${random}`).innerHTML = game_data.computer
                    board[random - 1] = game_data.computer
                }
            }

        function tableXO_if_full(){
            for(let e of board){
                if(e == " ") return false;
            }
             return true;  
          }  
        
        function check_winner(won){
            //[0, 1, 2]
            //[3, 4, 5]
            //[6, 7, 8]
            //[0, 3, 6]
            //[1, 4, 7]
            //[2, 5, 8]
            //[0, 4, 8]
            //[2, 4, 6]
            //there is 8 opptions to win
            if(board[0] === board[1] && board[0] === board[2] && board[0] === won ||
               board[3] === board[4] && board[3] === board[5] && board[3] === won ||
               board[6] === board[7] && board[6] === board[8] && board[6] === won ||
               board[0] === board[3] && board[0] === board[6] && board[0] === won ||
               board[1] === board[4] && board[1] === board[7] && board[1] === won ||
               board[2] === board[5] && board[2] === board[8] && board[2] === won ||
               board[0] === board[4] && board[0] === board[8] && board[0] === won ||
               board[2] === board[4] && board[2] === board[6] && board[2] === won 
            ){
                for(let i = 1; i <= 9; i++ ){
                    document.getElementById(`cell${i}`).disabled = true
                } 
                return true;
            }
            return false;  
        }


        function click_to_game(i){
            if(!tableXO_if_full()){
                board[i - 1] = game_data.player;
                document.getElementById(`cell${i}`).innerHTML = game_data.player
                if (check_winner(game_data.player)){
                    document.getElementById('the-winner').innerHTML += game_data.playerWon;
                    !game_data.game_over;
                }

               else if(tableXO_if_full()){
                if(!check_winner(game_data.player) && !check_winner(game_data.computer)){
                    document.getElementById('the-winner').innerHTML += game_data.teko;
                    !game_data.game_over;
                   }
               }
                else {
                    computerTurn()
                    if (check_winner(game_data.computer)){
                        document.getElementById('the-winner').innerHTML += game_data.computerWon;
                        !game_data.game_over;
                    }
                }
            }               
        }

    </script>
    
</body>
</html>
